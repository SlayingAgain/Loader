local HK2 = {
    Tabs = {},
    CurrentTab = nil,
    Open = true,
    Config = {
        Title = "HK2 Library",
        TitleColor = Color3.fromRGB(255, 255, 255),
        BackgroundColor = Color3.fromRGB(21, 21, 21),
        AccentColor = Color3.fromRGB(0, 170, 255),
        TextColor = Color3.fromRGB(255, 255, 255)
    }
}

local UIS = game:GetService("UserInputService")
local dragging, dragInput, dragStart, startPos

local function UpdateDrag(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

function HK2:CreateTab(tabName)
    local Tab = {}
    
    local TabButton = Instance.new("TextButton")
    TabButton.BorderSizePixel = 0
    TabButton.TextSize = 14
    TabButton.TextColor3 = HK2.Config.TextColor
    TabButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
    TabButton.Size = UDim2.new(0, 98, 0, 23)
    TabButton.BackgroundTransparency = 1
    TabButton.Name = tabName
    TabButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TabButton.Text = tabName
    TabButton.Parent = TabContainer
    
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 7)
    TabCorner.Parent = TabButton
    
    local Page = Instance.new("ScrollingFrame")
    Page.Active = true
    Page.BorderSizePixel = 0
    Page.CanvasSize = UDim2.new(0, 0, 1, 0)
    Page.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
    Page.Name = tabName
    Page.Size = UDim2.new(0, 292, 0, 231)
    Page.ScrollBarImageColor3 = Color3.fromRGB(6, 6, 6)
    Page.Position = UDim2.new(0, 0, 0.03481, 0)
    Page.BorderColor3 = Color3.fromRGB(16, 16, 16)
    Page.ScrollBarThickness = 3
    Page.BackgroundTransparency = 1
    Page.Visible = false
    Page.Parent = PageFolder
    
    local PageLayout = Instance.new("UIListLayout")
    PageLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    PageLayout.Padding = UDim.new(0, 6)
    PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
    PageLayout.Parent = Page
    
    TabButton.MouseButton1Click:Connect(function()
        for _, page in pairs(PageFolder:GetChildren()) do
            if page:IsA("ScrollingFrame") then
                page.Visible = false
            end
        end
        Page.Visible = true
        HK2.CurrentTab = tabName
    end)
    
    if #PageFolder:GetChildren() == 1 then
        Page.Visible = true
        HK2.CurrentTab = tabName
    end
    
    function Tab:CreateButton(buttonName, callback)
        local ButtonHolder = Instance.new("Frame")
        ButtonHolder.BorderSizePixel = 0
        ButtonHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ButtonHolder.Size = UDim2.new(0, 288, 0, 26)
        ButtonHolder.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ButtonHolder.Name = "ButtonHolder"
        ButtonHolder.Parent = Page
        
        local Button = Instance.new("TextButton")
        Button.BorderSizePixel = 0
        Button.AutoButtonColor = false
        Button.TextSize = 11
        Button.TextColor3 = HK2.Config.TextColor
        Button.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        Button.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        Button.Size = UDim2.new(0, 288, 0, 26)
        Button.BackgroundTransparency = 1
        Button.Name = "Button"
        Button.BorderColor3 = Color3.fromRGB(18, 18, 18)
        Button.Text = buttonName
        Button.Parent = ButtonHolder
        
        local ButtonCorner = Instance.new("UICorner")
        ButtonCorner.CornerRadius = UDim.new(0, 5)
        ButtonCorner.Parent = Button
        
        local ButtonHolderCorner = Instance.new("UICorner")
        ButtonHolderCorner.CornerRadius = UDim.new(0, 5)
        ButtonHolderCorner.Parent = ButtonHolder
        
        Button.MouseButton1Click:Connect(function()
            if callback then
                callback()
            end
        end)
        
        Button.MouseEnter:Connect(function()
            game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1), {BackgroundTransparency = 0.8}):Play()
        end)
        
        Button.MouseLeave:Connect(function()
            game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1), {BackgroundTransparency = 1}):Play()
        end)
        
        return {
            SetText = function(self, newText)
                Button.Text = newText
            end,
            SetCallback = function(self, newCallback)
                callback = newCallback
            end
        }
    end
    
    function Tab:CreateToggle(toggleName, default, callback)
        local ToggleHolder = Instance.new("Frame")
        ToggleHolder.BorderSizePixel = 0
        ToggleHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ToggleHolder.Size = UDim2.new(0, 288, 0, 26)
        ToggleHolder.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ToggleHolder.Name = "ToggleHolder"
        ToggleHolder.Parent = Page
        
        local ToggleHolderCorner = Instance.new("UICorner")
        ToggleHolderCorner.CornerRadius = UDim.new(0, 5)
        ToggleHolderCorner.Parent = ToggleHolder
        
        local ToggleTitle = Instance.new("TextLabel")
        ToggleTitle.BorderSizePixel = 0
        ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left
        ToggleTitle.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ToggleTitle.TextSize = 11
        ToggleTitle.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        ToggleTitle.TextColor3 = HK2.Config.TextColor
        ToggleTitle.BackgroundTransparency = 1
        ToggleTitle.Size = UDim2.new(0, 195, 0, 24)
        ToggleTitle.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ToggleTitle.Text = toggleName
        ToggleTitle.Name = "ToggleTitle"
        ToggleTitle.Position = UDim2.new(0.02431, 0, 0, 0)
        ToggleTitle.Parent = ToggleHolder
        
        local ToggleButton = Instance.new("TextButton")
        ToggleButton.AutoButtonColor = false
        ToggleButton.TextSize = 14
        ToggleButton.TextColor3 = Color3.fromRGB(0, 0, 0)
        ToggleButton.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ToggleButton.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
        ToggleButton.Size = UDim2.new(0, 57, 0, 25)
        ToggleButton.BackgroundTransparency = 1
        ToggleButton.Name = "ToggleButton"
        ToggleButton.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ToggleButton.Text = ""
        ToggleButton.Position = UDim2.new(0.80208, 0, 0, 0)
        ToggleButton.Parent = ToggleHolder
        
        local ToggleFrame = Instance.new("Frame")
        ToggleFrame.BackgroundColor3 = Color3.fromRGB(6, 6, 6)
        ToggleFrame.Size = UDim2.new(0, 34, 0, 19)
        ToggleFrame.Position = UDim2.new(0.27193, 0, 0.12, 0)
        ToggleFrame.BorderColor3 = Color3.fromRGB(6, 6, 6)
        ToggleFrame.Name = "ToggleFrame"
        ToggleFrame.Parent = ToggleButton
        
        local ToggleFrameCorner = Instance.new("UICorner")
        ToggleFrameCorner.Parent = ToggleFrame
        
        local ToggleBall = Instance.new("Frame")
        ToggleBall.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        ToggleBall.Size = UDim2.new(0, 15, 0, 12)
        ToggleBall.Position = UDim2.new(0, 2, 0.15799, 0)
        ToggleBall.Name = "ToggleBall"
        ToggleBall.Parent = ToggleFrame
        
        local ToggleBallCorner = Instance.new("UICorner")
        ToggleBallCorner.CornerRadius = UDim.new(0, 100)
        ToggleBallCorner.Parent = ToggleBall
        
        local isToggled = default or false
        
        local function updateToggle()
            if isToggled then
                ToggleBall:TweenPosition(UDim2.new(0, 17, 0.15799, 0), "Out", "Quad", 0.1)
                ToggleFrame.BackgroundColor3 = HK2.Config.AccentColor
            else
                ToggleBall:TweenPosition(UDim2.new(0, 2, 0.15799, 0), "Out", "Quad", 0.1)
                ToggleFrame.BackgroundColor3 = Color3.fromRGB(6, 6, 6)
            end
            if callback then
                callback(isToggled)
            end
        end
        
        ToggleButton.MouseButton1Click:Connect(function()
            isToggled = not isToggled
            updateToggle()
        end)
        
        updateToggle()
        
        return {
            SetValue = function(self, value)
                isToggled = value
                updateToggle()
            end,
            GetValue = function(self)
                return isToggled
            end
        }
    end
    
    function Tab:CreateLabel(labelName, labelInfo)
        local LabelHolder = Instance.new("Frame")
        LabelHolder.BorderSizePixel = 0
        LabelHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        LabelHolder.Size = UDim2.new(0, 288, 0, 26)
        LabelHolder.BorderColor3 = Color3.fromRGB(18, 18, 18)
        LabelHolder.Name = "LabelHolder"
        LabelHolder.Parent = Page
        
        local LabelHolderCorner = Instance.new("UICorner")
        LabelHolderCorner.CornerRadius = UDim.new(0, 5)
        LabelHolderCorner.Parent = LabelHolder
        
        local LabelTitle = Instance.new("TextLabel")
        LabelTitle.BorderSizePixel = 0
        LabelTitle.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        LabelTitle.TextSize = 11
        LabelTitle.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        LabelTitle.TextColor3 = HK2.Config.TextColor
        LabelTitle.BackgroundTransparency = 1
        LabelTitle.Size = UDim2.new(0, 288, 0, 15)
        LabelTitle.BorderColor3 = Color3.fromRGB(18, 18, 18)
        LabelTitle.Text = labelName
        LabelTitle.Name = "LabelTitle"
        LabelTitle.Parent = LabelHolder
        
        local LabelInfo = Instance.new("TextLabel")
        LabelInfo.BorderSizePixel = 0
        LabelInfo.TextTransparency = 0.3
        LabelInfo.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        LabelInfo.TextSize = 9
        LabelInfo.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        LabelInfo.TextColor3 = HK2.Config.TextColor
        LabelInfo.BackgroundTransparency = 1
        LabelInfo.Size = UDim2.new(0, 288, 0, 9)
        LabelInfo.BorderColor3 = Color3.fromRGB(18, 18, 18)
        LabelInfo.Name = "LabelInfo"
        LabelInfo.Text = labelInfo or ""
        LabelInfo.Position = UDim2.new(0, 0, 0.65385, 0)
        LabelInfo.Parent = LabelHolder
        
        return {
            SetText = function(self, newText)
                LabelTitle.Text = newText
            end,
            SetInfo = function(self, newInfo)
                LabelInfo.Text = newInfo
            end
        }
    end
    
    function Tab:CreateSlider(sliderName, min, max, default, callback)
        local SliderHolder = Instance.new("Frame")
        SliderHolder.BorderSizePixel = 0
        SliderHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        SliderHolder.Size = UDim2.new(0, 288, 0, 26)
        SliderHolder.BorderColor3 = Color3.fromRGB(18, 17, 17)
        SliderHolder.Name = "SliderHolder"
        SliderHolder.Parent = Page
        
        local SliderHolderCorner = Instance.new("UICorner")
        SliderHolderCorner.CornerRadius = UDim.new(0, 5)
        SliderHolderCorner.Parent = SliderHolder
        
        local SliderTitle = Instance.new("TextLabel")
        SliderTitle.BorderSizePixel = 0
        SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
        SliderTitle.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        SliderTitle.TextSize = 11
        SliderTitle.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        SliderTitle.TextColor3 = HK2.Config.TextColor
        SliderTitle.BackgroundTransparency = 1
        SliderTitle.Size = UDim2.new(0, 239, 0, 8)
        SliderTitle.BorderColor3 = Color3.fromRGB(18, 18, 18)
        SliderTitle.Text = sliderName
        SliderTitle.Name = "SliderTitle"
        SliderTitle.Position = UDim2.new(0.02431, 0, 0.15385, 0)
        SliderTitle.Parent = SliderHolder
        
        local SliderButton = Instance.new("TextButton")
        SliderButton.BorderSizePixel = 0
        SliderButton.AutoButtonColor = false
        SliderButton.TextSize = 14
        SliderButton.TextColor3 = Color3.fromRGB(0, 0, 0)
        SliderButton.BackgroundColor3 = Color3.fromRGB(6, 6, 6)
        SliderButton.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
        SliderButton.Size = UDim2.new(0, 273, 0, 7)
        SliderButton.Name = "SliderButton"
        SliderButton.BorderColor3 = Color3.fromRGB(16, 16, 16)
        SliderButton.Text = ""
        SliderButton.Position = UDim2.new(0, 8, 0, 17)
        SliderButton.Parent = SliderHolder
        
        local SliderButtonCorner = Instance.new("UICorner")
        SliderButtonCorner.Parent = SliderButton
        
        local SliderTrail = Instance.new("Frame")
        SliderTrail.BackgroundColor3 = HK2.Config.AccentColor
        SliderTrail.Size = UDim2.new(0, 57, 0, 7)
        SliderTrail.BorderColor3 = Color3.fromRGB(41, 41, 41)
        SliderTrail.Name = "SliderTrail"
        SliderTrail.Parent = SliderButton
        
        local SliderTrailCorner = Instance.new("UICorner")
        SliderTrailCorner.Parent = SliderTrail
        
        local SliderNumber = Instance.new("TextLabel")
        SliderNumber.BorderSizePixel = 0
        SliderNumber.TextXAlignment = Enum.TextXAlignment.Left
        SliderNumber.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        SliderNumber.TextSize = 10
        SliderNumber.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        SliderNumber.TextColor3 = HK2.Config.TextColor
        SliderNumber.BackgroundTransparency = 1
        SliderNumber.Size = UDim2.new(0, 33, 0, 6)
        SliderNumber.BorderColor3 = Color3.fromRGB(18, 18, 18)
        SliderNumber.Text = tostring(default)
        SliderNumber.Name = "SliderNumber"
        SliderNumber.Position = UDim2.new(0.885, 0, 0.192, 1)
        SliderNumber.Parent = SliderHolder
        
        local currentValue = default
        local isSliding = false
        
        local function updateSlider(value)
            local percent = (value - min) / (max - min)
            SliderTrail.Size = UDim2.new(percent, 0, 1, 0)
            SliderNumber.Text = tostring(math.floor(value))
            currentValue = value
            if callback then
                callback(value)
            end
        end
        
        SliderButton.MouseButton1Down:Connect(function()
            isSliding = true
        end)
        
        UIS.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                isSliding = false
            end
        end)
        
        SliderButton.MouseMoved:Connect(function()
            if isSliding then
                local mouse = game:GetService("Players").LocalPlayer:GetMouse()
                local x = math.clamp(mouse.X - SliderButton.AbsolutePosition.X, 0, SliderButton.AbsoluteSize.X)
                local percent = x / SliderButton.AbsoluteSize.X
                local value = math.floor(min + (max - min) * percent)
                updateSlider(value)
            end
        end)
        
        updateSlider(default)
        
        return {
            SetValue = function(self, value)
                updateSlider(math.clamp(value, min, max))
            end,
            GetValue = function(self)
                return currentValue
            end
        }
    end
    
    function Tab:CreateTextBox(textBoxName, placeholder, callback)
        local TextBoxHolder = Instance.new("Frame")
        TextBoxHolder.BorderSizePixel = 0
        TextBoxHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        TextBoxHolder.Size = UDim2.new(0, 288, 0, 26)
        TextBoxHolder.BorderColor3 = Color3.fromRGB(18, 17, 17)
        TextBoxHolder.Name = "TextBoxHolder"
        TextBoxHolder.Parent = Page
        
        local TextBoxHolderCorner = Instance.new("UICorner")
        TextBoxHolderCorner.CornerRadius = UDim.new(0, 5)
        TextBoxHolderCorner.Parent = TextBoxHolder
        
        local TextBoxTitle = Instance.new("TextLabel")
        TextBoxTitle.BorderSizePixel = 0
        TextBoxTitle.TextXAlignment = Enum.TextXAlignment.Left
        TextBoxTitle.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        TextBoxTitle.TextSize = 11
        TextBoxTitle.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        TextBoxTitle.TextColor3 = HK2.Config.TextColor
        TextBoxTitle.BackgroundTransparency = 1
        TextBoxTitle.Size = UDim2.new(0, 195, 0, 21)
        TextBoxTitle.BorderColor3 = Color3.fromRGB(18, 18, 18)
        TextBoxTitle.Text = textBoxName
        TextBoxTitle.Name = "TextBoxTitle"
        TextBoxTitle.Position = UDim2.new(0.02431, 0, 0.07692, 0)
        TextBoxTitle.Parent = TextBoxHolder
        
        local TextBox = Instance.new("TextBox")
        TextBox.CursorPosition = -1
        TextBox.TextColor3 = HK2.Config.TextColor
        TextBox.TextSize = 9
        TextBox.BackgroundColor3 = Color3.fromRGB(6, 6, 6)
        TextBox.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        TextBox.Size = UDim2.new(0, 72, 0, 20)
        TextBox.Position = UDim2.new(0.72569, 0, 0.11538, 0)
        TextBox.PlaceholderText = placeholder
        TextBox.Text = ""
        TextBox.Parent = TextBoxHolder
        
        local TextBoxCorner = Instance.new("UICorner")
        TextBoxCorner.CornerRadius = UDim.new(0, 5)
        TextBoxCorner.Parent = TextBox
        
        TextBox.FocusLost:Connect(function()
            if callback then
                callback(TextBox.Text)
            end
        end)
        
        return {
            SetText = function(self, newText)
                TextBox.Text = newText
            end,
            GetText = function(self)
                return TextBox.Text
            end
        }
    end
    
    function Tab:CreateDropdown(dropdownName, options, callback)
        local DropdownHolder = Instance.new("Frame")
        DropdownHolder.BorderSizePixel = 0
        DropdownHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        DropdownHolder.Size = UDim2.new(0, 288, 0, 26)
        DropdownHolder.BorderColor3 = Color3.fromRGB(18, 18, 18)
        DropdownHolder.Name = "DropdownHolder"
        DropdownHolder.Parent = Page
        
        local DropdownHolderCorner = Instance.new("UICorner")
        DropdownHolderCorner.CornerRadius = UDim.new(0, 5)
        DropdownHolderCorner.Parent = DropdownHolder
        
        local DropdownTitle = Instance.new("TextLabel")
        DropdownTitle.BorderSizePixel = 0
        DropdownTitle.TextXAlignment = Enum.TextXAlignment.Left
        DropdownTitle.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        DropdownTitle.TextSize = 11
        DropdownTitle.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        DropdownTitle.TextColor3 = HK2.Config.TextColor
        DropdownTitle.BackgroundTransparency = 1
        DropdownTitle.Size = UDim2.new(0, 195, 0, 24)
        DropdownTitle.BorderColor3 = Color3.fromRGB(18, 18, 18)
        DropdownTitle.Text = dropdownName
        DropdownTitle.Name = "DropdownTitle"
        DropdownTitle.Position = UDim2.new(0.02431, 0, 0, 0)
        DropdownTitle.Parent = DropdownHolder
        
        local DropdownButton = Instance.new("TextButton")
        DropdownButton.TextSize = 14
        DropdownButton.TextColor3 = Color3.fromRGB(0, 0, 0)
        DropdownButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        DropdownButton.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
        DropdownButton.Size = UDim2.new(0, 288, 0, 26)
        DropdownButton.BackgroundTransparency = 1
        DropdownButton.Name = "DropdownButton"
        DropdownButton.Text = ""
        DropdownButton.Parent = DropdownHolder
        
        local DropdownIcon = Instance.new("ImageLabel")
        DropdownIcon.ScaleType = Enum.ScaleType.Fit
        DropdownIcon.Image = "rbxassetid://5279719038"
        DropdownIcon.Size = UDim2.new(0, 24, 0, 16)
        DropdownIcon.BackgroundTransparency = 1
        DropdownIcon.Name = "DropdownIcon"
        DropdownIcon.Position = UDim2.new(0.88542, 0, 0.19231, 0)
        DropdownIcon.Parent = DropdownButton
        
        local DropdownContainer = Instance.new("Frame")
        DropdownContainer.Visible = false
        DropdownContainer.Active = true
        DropdownContainer.BorderSizePixel = 0
        DropdownContainer.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        DropdownContainer.ClipsDescendants = true
        DropdownContainer.Size = UDim2.new(0, 288, 0, 4)
        DropdownContainer.Position = UDim2.new(0, 0, 1.34615, 0)
        DropdownContainer.BorderColor3 = Color3.fromRGB(18, 18, 18)
        DropdownContainer.Name = "DropdownContainer"
        DropdownContainer.Parent = DropdownHolder
        
        local DropdownContainerCorner = Instance.new("UICorner")
        DropdownContainerCorner.CornerRadius = UDim.new(0, 6)
        DropdownContainerCorner.Parent = DropdownContainer
        
        local DropdownOptionContainer = Instance.new("ScrollingFrame")
        DropdownOptionContainer.Visible = false
        DropdownOptionContainer.Active = true
        DropdownOptionContainer.BorderSizePixel = 0
        DropdownOptionContainer.CanvasSize = UDim2.new(0, 0, 1, 0)
        DropdownOptionContainer.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        DropdownOptionContainer.Name = "DropdownOptionContainer"
        DropdownOptionContainer.Size = UDim2.new(0, 288, 0, 8)
        DropdownOptionContainer.Position = UDim2.new(0, 0, 0.07826, 0)
        DropdownOptionContainer.BorderColor3 = Color3.fromRGB(18, 18, 18)
        DropdownOptionContainer.ScrollBarThickness = 3
        DropdownOptionContainer.BackgroundTransparency = 1
        DropdownOptionContainer.Parent = DropdownContainer
        
        local DropdownOptionContainerLayout = Instance.new("UIListLayout")
        DropdownOptionContainerLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        DropdownOptionContainerLayout.Padding = UDim.new(0, 5)
        DropdownOptionContainerLayout.SortOrder = Enum.SortOrder.LayoutOrder
        DropdownOptionContainerLayout.Name = "DropdownOptionContainerLayout"
        DropdownOptionContainerLayout.Parent = DropdownOptionContainer
        
        local isOpen = false
        local selectedOption = nil
        
        local function updateDropdown()
            if isOpen then
                DropdownContainer.Visible = true
                DropdownOptionContainer.Visible = true
                DropdownContainer:TweenSize(UDim2.new(0, 288, 0, 100), "Out", "Quad", 0.2)
                DropdownOptionContainer:TweenSize(UDim2.new(0, 288, 0, 92), "Out", "Quad", 0.2)
            else
                DropdownContainer:TweenSize(UDim2.new(0, 288, 0, 4), "Out", "Quad", 0.2, true, function()
                    DropdownContainer.Visible = false
                    DropdownOptionContainer.Visible = false
                end)
            end
        end
        
        local function createOption(optionName)
            local Option = Instance.new("TextButton")
            Option.AutoButtonColor = false
            Option.TextSize = 10
            Option.TextColor3 = HK2.Config.TextColor
            Option.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
            Option.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
            Option.Size = UDim2.new(0, 283, 0, 22)
            Option.Name = "Option"
            Option.BorderColor3 = Color3.fromRGB(16, 16, 16)
            Option.Text = optionName
            Option.Parent = DropdownOptionContainer
            
            local OptionCorner = Instance.new("UICorner")
            OptionCorner.CornerRadius = UDim.new(0, 6)
            OptionCorner.Parent = Option
            
            Option.MouseButton1Click:Connect(function()
                selectedOption = optionName
                DropdownTitle.Text = dropdownName .. ": " .. optionName
                isOpen = false
                updateDropdown()
                if callback then
                    callback(optionName)
                end
            end)
            
            Option.MouseEnter:Connect(function()
                game:GetService("TweenService"):Create(Option, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(20, 20, 20)}):Play()
            end)
            
            Option.MouseLeave:Connect(function()
                game:GetService("TweenService"):Create(Option, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(16, 16, 16)}):Play()
            end)
        end
        
        for _, option in pairs(options) do
            createOption(option)
        end
        
        DropdownButton.MouseButton1Click:Connect(function()
            isOpen = not isOpen
            updateDropdown()
        end)
        
        return {
            SetOptions = function(self, newOptions)
                for _, child in pairs(DropdownOptionContainer:GetChildren()) do
                    if child:IsA("TextButton") then
                        child:Destroy()
                    end
                end
                
                for _, option in pairs(newOptions) do
                    createOption(option)
                end
            end,
            GetSelected = function(self)
                return selectedOption
            end
        }
    end
    
    table.insert(self.Tabs, Tab)
    return Tab
end

function HK2:SetTitle(newTitle)
    self.Config.Title = newTitle
    Title.Text = newTitle
end

function HK2:SetTitleColor(newColor)
    self.Config.TitleColor = newColor
    Title.TextColor3 = newColor
end

function HK2:SetBackgroundColor(newColor)
    self.Config.BackgroundColor = newColor
    MainFrame.BackgroundColor3 = newColor
end

function HK2:SetAccentColor(newColor)
    self.Config.AccentColor = newColor
end

function HK2:SetTextColor(newColor)
    self.Config.TextColor = newColor
end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Hook"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")

local MainFrame = Instance.new("Frame")
MainFrame.BorderSizePixel = 0
MainFrame.BackgroundColor3 = HK2.Config.BackgroundColor
MainFrame.Size = UDim2.new(0, 439, 0, 290)
MainFrame.Position = UDim2.new(0.43879, 0, 0.43949, 0)
MainFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.Parent = ScreenGui

local FrameCorner = Instance.new("UICorner")
FrameCorner.CornerRadius = UDim.new(0, 5)
FrameCorner.Parent = MainFrame

local DashBoard = Instance.new("Frame")
DashBoard.BorderSizePixel = 0
DashBoard.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
DashBoard.Size = UDim2.new(0, 109, 0, 240)
DashBoard.Position = UDim2.new(0.03189, 0, 0.12414, 0)
DashBoard.BorderColor3 = Color3.fromRGB(0, 0, 0)
DashBoard.Name = "DashBoard"
DashBoard.Parent = MainFrame

local DashBoardCorner = Instance.new("UICorner")
DashBoardCorner.CornerRadius = UDim.new(0, 5)
DashBoardCorner.Parent = DashBoard

local TabContainer = Instance.new("Frame")
TabContainer.BorderSizePixel = 0
TabContainer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TabContainer.Size = UDim2.new(0, 97, 0, 225)
TabContainer.Position = UDim2.new(0.05505, 0, 0.03481, 0)
TabContainer.BorderColor3 = Color3.fromRGB(0, 0, 0)
TabContainer.Name = "TabContainer"
TabContainer.BackgroundTransparency = 1
TabContainer.Parent = DashBoard

local TabContainerLayout = Instance.new("UIListLayout")
TabContainerLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
TabContainerLayout.Padding = UDim.new(0, 8)
TabContainerLayout.SortOrder = Enum.SortOrder.LayoutOrder
TabContainerLayout.Parent = TabContainer

local PageContainer = Instance.new("Frame")
PageContainer.BorderSizePixel = 0
PageContainer.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
PageContainer.Size = UDim2.new(0, 292, 0, 240)
PageContainer.Position = UDim2.new(1.06422, 0, 0, 0)
PageContainer.BorderColor3 = Color3.fromRGB(0, 0, 0)
PageContainer.Name = "PageContainer"
PageContainer.Parent = DashBoard

local PageContainerCorner = Instance.new("UICorner")
PageContainerCorner.CornerRadius = UDim.new(0, 6)
PageContainerCorner.Parent = PageContainer

local PageFolder = Instance.new("Folder")
PageFolder.Name = "PageFolder"
PageFolder.Parent = PageContainer

local TitleContainer = Instance.new("Frame")
TitleContainer.BorderSizePixel = 0
TitleContainer.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
TitleContainer.Size = UDim2.new(0, 406, 0, 15)
TitleContainer.Position = UDim2.new(0.01835, 0, -0.10155, 0)
TitleContainer.BorderColor3 = Color3.fromRGB(0, 0, 0)
TitleContainer.Name = "TitleContainer"
TitleContainer.Parent = DashBoard

local TitleHolderCorner = Instance.new("UICorner")
TitleHolderCorner.CornerRadius = UDim.new(0, 5)
TitleHolderCorner.Parent = TitleContainer

local Title = Instance.new("TextLabel")
Title.TextWrapped = true
Title.BorderSizePixel = 0
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.TextScaled = true
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 14
Title.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Title.TextColor3 = HK2.Config.TitleColor
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(0, 406, 0, 15)
Title.BorderColor3 = Color3.fromRGB(0, 0, 0)
Title.Text = HK2.Config.Title
Title.Name = "Title"
Title.Parent = TitleContainer

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        UpdateDrag(input)
    end
end)

UIS.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.LeftAlt then
        HK2.Open = not HK2.Open
        MainFrame.Visible = HK2.Open
    end
end)

return HK2
