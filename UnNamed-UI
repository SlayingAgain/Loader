local Library = {
    Tabs = {},
    CurrentTab = nil,
    Open = true
}

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Hook"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")

local MainFrame = Instance.new("Frame")
MainFrame.BorderSizePixel = 0
MainFrame.BackgroundColor3 = Color3.fromRGB(21, 21, 21)
MainFrame.Size = UDim2.new(0, 439, 0, 290)
MainFrame.Position = UDim2.new(0.43879, 0, 0.43949, 0)
MainFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.Parent = ScreenGui

local FrameCorner = Instance.new("UICorner")
FrameCorner.CornerRadius = UDim.new(0, 5)
FrameCorner.Parent = MainFrame

local DashBoard = Instance.new("Frame")
DashBoard.BorderSizePixel = 0
DashBoard.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
DashBoard.Size = UDim2.new(0, 109, 0, 240)
DashBoard.Position = UDim2.new(0.03189, 0, 0.12414, 0)
DashBoard.BorderColor3 = Color3.fromRGB(0, 0, 0)
DashBoard.Name = "DashBoard"
DashBoard.Parent = MainFrame

local DashBoardCorner = Instance.new("UICorner")
DashBoardCorner.CornerRadius = UDim.new(0, 5)
DashBoardCorner.Parent = DashBoard

local TabContainer = Instance.new("Frame")
TabContainer.BorderSizePixel = 0
TabContainer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TabContainer.Size = UDim2.new(0, 97, 0, 225)
TabContainer.Position = UDim2.new(0.05505, 0, 0.03481, 0)
TabContainer.BorderColor3 = Color3.fromRGB(0, 0, 0)
TabContainer.Name = "TabContainer"
TabContainer.BackgroundTransparency = 1
TabContainer.Parent = DashBoard

local TabContainerLayout = Instance.new("UIListLayout")
TabContainerLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
TabContainerLayout.Padding = UDim.new(0, 8)
TabContainerLayout.SortOrder = Enum.SortOrder.LayoutOrder
TabContainerLayout.Parent = TabContainer

local PageContainer = Instance.new("Frame")
PageContainer.BorderSizePixel = 0
PageContainer.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
PageContainer.Size = UDim2.new(0, 292, 0, 240)
PageContainer.Position = UDim2.new(1.06422, 0, 0, 0)
PageContainer.BorderColor3 = Color3.fromRGB(0, 0, 0)
PageContainer.Name = "PageContainer"
PageContainer.Parent = DashBoard

local PageContainerCorner = Instance.new("UICorner")
PageContainerCorner.CornerRadius = UDim.new(0, 6)
PageContainerCorner.Parent = PageContainer

local PageFolder = Instance.new("Folder")
PageFolder.Name = "PageFolder"
PageFolder.Parent = PageContainer

local TitleContainer = Instance.new("Frame")
TitleContainer.BorderSizePixel = 0
TitleContainer.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
TitleContainer.Size = UDim2.new(0, 406, 0, 15)
TitleContainer.Position = UDim2.new(0.01835, 0, -0.10155, 0)
TitleContainer.BorderColor3 = Color3.fromRGB(0, 0, 0)
TitleContainer.Name = "TitleContainer"
TitleContainer.Parent = DashBoard

local TitleHolderCorner = Instance.new("UICorner")
TitleHolderCorner.CornerRadius = UDim.new(0, 5)
TitleHolderCorner.Parent = TitleContainer

local Title = Instance.new("TextLabel")
Title.TextWrapped = true
Title.BorderSizePixel = 0
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.TextScaled = true
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 14
Title.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(0, 406, 0, 15)
Title.BorderColor3 = Color3.fromRGB(0, 0, 0)
Title.Text = "UI Library"
Title.Name = "Title"
Title.Parent = TitleContainer

-- Draggable functionality
local UIS = game:GetService("UserInputService")
local dragging, dragInput, dragStart, startPos

local function UpdateDrag(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

UIS.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        UpdateDrag(input)
    end
end)

-- Toggle UI with LeftAlt
UIS.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.LeftAlt then
        Library.Open = not Library.Open
        MainFrame.Visible = Library.Open
    end
end)

-- Library functions
function Library:CreateTab(tabName)
    local Tab = {}
    
    local TabButton = Instance.new("TextButton")
    TabButton.BorderSizePixel = 0
    TabButton.TextSize = 14
    TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TabButton.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
    TabButton.Size = UDim2.new(0, 98, 0, 23)
    TabButton.BackgroundTransparency = 1
    TabButton.Name = tabName
    TabButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
    TabButton.Text = tabName
    TabButton.Parent = TabContainer
    
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 7)
    TabCorner.Parent = TabButton
    
    local Page = Instance.new("ScrollingFrame")
    Page.Active = true
    Page.BorderSizePixel = 0
    Page.CanvasSize = UDim2.new(0, 0, 1, 0)
    Page.BackgroundColor3 = Color3.fromRGB(16, 16, 16)
    Page.Name = tabName
    Page.Size = UDim2.new(0, 292, 0, 231)
    Page.ScrollBarImageColor3 = Color3.fromRGB(6, 6, 6)
    Page.Position = UDim2.new(0, 0, 0.03481, 0)
    Page.BorderColor3 = Color3.fromRGB(16, 16, 16)
    Page.ScrollBarThickness = 3
    Page.BackgroundTransparency = 1
    Page.Visible = false
    Page.Parent = PageFolder
    
    local PageLayout = Instance.new("UIListLayout")
    PageLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    PageLayout.Padding = UDim.new(0, 6)
    PageLayout.SortOrder = Enum.SortOrder.LayoutOrder
    PageLayout.Parent = Page
    
    TabButton.MouseButton1Click:Connect(function()
        for _, page in pairs(PageFolder:GetChildren()) do
            if page:IsA("ScrollingFrame") then
                page.Visible = false
            end
        end
        Page.Visible = true
        Library.CurrentTab = tabName
    end)
    
    if #PageFolder:GetChildren() == 1 then
        Page.Visible = true
        Library.CurrentTab = tabName
    end
    
    function Tab:CreateButton(buttonName, callback)
        local ButtonHolder = Instance.new("Frame")
        ButtonHolder.BorderSizePixel = 0
        ButtonHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ButtonHolder.Size = UDim2.new(0, 288, 0, 26)
        ButtonHolder.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ButtonHolder.Name = "ButtonHolder"
        ButtonHolder.Parent = Page
        
        local Button = Instance.new("TextButton")
        Button.BorderSizePixel = 0
        Button.AutoButtonColor = false
        Button.TextSize = 11
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        Button.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        Button.Size = UDim2.new(0, 288, 0, 26)
        Button.BackgroundTransparency = 1
        Button.Name = "Button"
        Button.BorderColor3 = Color3.fromRGB(18, 18, 18)
        Button.Text = buttonName
        Button.Parent = ButtonHolder
        
        local ButtonCorner = Instance.new("UICorner")
        ButtonCorner.CornerRadius = UDim.new(0, 5)
        ButtonCorner.Parent = Button
        
        local ButtonHolderCorner = Instance.new("UICorner")
        ButtonHolderCorner.CornerRadius = UDim.new(0, 5)
        ButtonHolderCorner.Parent = ButtonHolder
        
        Button.MouseButton1Click:Connect(function()
            if callback then
                callback()
            end
        end)
        
        Button.MouseEnter:Connect(function()
            game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1), {BackgroundTransparency = 0.8}):Play()
        end)
        
        Button.MouseLeave:Connect(function()
            game:GetService("TweenService"):Create(Button, TweenInfo.new(0.1), {BackgroundTransparency = 1}):Play()
        end)
    end
    
    function Tab:CreateToggle(toggleName, default, callback)
        local ToggleHolder = Instance.new("Frame")
        ToggleHolder.BorderSizePixel = 0
        ToggleHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ToggleHolder.Size = UDim2.new(0, 288, 0, 26)
        ToggleHolder.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ToggleHolder.Name = "ToggleHolder"
        ToggleHolder.Parent = Page
        
        local ToggleHolderCorner = Instance.new("UICorner")
        ToggleHolderCorner.CornerRadius = UDim.new(0, 5)
        ToggleHolderCorner.Parent = ToggleHolder
        
        local ToggleTitle = Instance.new("TextLabel")
        ToggleTitle.BorderSizePixel = 0
        ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left
        ToggleTitle.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ToggleTitle.TextSize = 11
        ToggleTitle.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        ToggleTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
        ToggleTitle.BackgroundTransparency = 1
        ToggleTitle.Size = UDim2.new(0, 195, 0, 24)
        ToggleTitle.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ToggleTitle.Text = toggleName
        ToggleTitle.Name = "ToggleTitle"
        ToggleTitle.Position = UDim2.new(0.02431, 0, 0, 0)
        ToggleTitle.Parent = ToggleHolder
        
        local ToggleButton = Instance.new("TextButton")
        ToggleButton.AutoButtonColor = false
        ToggleButton.TextSize = 14
        ToggleButton.TextColor3 = Color3.fromRGB(0, 0, 0)
        ToggleButton.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        ToggleButton.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
        ToggleButton.Size = UDim2.new(0, 57, 0, 25)
        ToggleButton.BackgroundTransparency = 1
        ToggleButton.Name = "ToggleButton"
        ToggleButton.BorderColor3 = Color3.fromRGB(18, 18, 18)
        ToggleButton.Text = ""
        ToggleButton.Position = UDim2.new(0.80208, 0, 0, 0)
        ToggleButton.Parent = ToggleHolder
        
        local ToggleFrame = Instance.new("Frame")
        ToggleFrame.BackgroundColor3 = Color3.fromRGB(6, 6, 6)
        ToggleFrame.Size = UDim2.new(0, 34, 0, 19)
        ToggleFrame.Position = UDim2.new(0.27193, 0, 0.12, 0)
        ToggleFrame.BorderColor3 = Color3.fromRGB(6, 6, 6)
        ToggleFrame.Name = "ToggleFrame"
        ToggleFrame.Parent = ToggleButton
        
        local ToggleFrameCorner = Instance.new("UICorner")
        ToggleFrameCorner.Parent = ToggleFrame
        
        local ToggleBall = Instance.new("Frame")
        ToggleBall.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        ToggleBall.Size = UDim2.new(0, 15, 0, 12)
        ToggleBall.Position = UDim2.new(0, 2, 0.15799, 0)
        ToggleBall.Name = "ToggleBall"
        ToggleBall.Parent = ToggleFrame
        
        local ToggleBallCorner = Instance.new("UICorner")
        ToggleBallCorner.CornerRadius = UDim.new(0, 100)
        ToggleBallCorner.Parent = ToggleBall
        
        local isToggled = default or false
        
        local function updateToggle()
            if isToggled then
                ToggleBall:TweenPosition(UDim2.new(0, 17, 0.15799, 0), "Out", "Quad", 0.1)
                ToggleFrame.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
            else
                ToggleBall:TweenPosition(UDim2.new(0, 2, 0.15799, 0), "Out", "Quad", 0.1)
                ToggleFrame.BackgroundColor3 = Color3.fromRGB(6, 6, 6)
            end
            if callback then
                callback(isToggled)
            end
        end
        
        ToggleButton.MouseButton1Click:Connect(function()
            isToggled = not isToggled
            updateToggle()
        end)
        
        updateToggle()
    end
    
    function Tab:CreateLabel(labelName, labelInfo)
        local LabelHolder = Instance.new("Frame")
        LabelHolder.BorderSizePixel = 0
        LabelHolder.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        LabelHolder.Size = UDim2.new(0, 288, 0, 26)
        LabelHolder.BorderColor3 = Color3.fromRGB(18, 18, 18)
        LabelHolder.Name = "LabelHolder"
        LabelHolder.Parent = Page
        
        local LabelHolderCorner = Instance.new("UICorner")
        LabelHolderCorner.CornerRadius = UDim.new(0, 5)
        LabelHolderCorner.Parent = LabelHolder
        
        local LabelTitle = Instance.new("TextLabel")
        LabelTitle.BorderSizePixel = 0
        LabelTitle.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        LabelTitle.TextSize = 11
        LabelTitle.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        LabelTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
        LabelTitle.BackgroundTransparency = 1
        LabelTitle.Size = UDim2.new(0, 288, 0, 15)
        LabelTitle.BorderColor3 = Color3.fromRGB(18, 18, 18)
        LabelTitle.Text = labelName
        LabelTitle.Name = "LabelTitle"
        LabelTitle.Parent = LabelHolder
        
        local LabelInfo = Instance.new("TextLabel")
        LabelInfo.BorderSizePixel = 0
        LabelInfo.TextTransparency = 0.3
        LabelInfo.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
        LabelInfo.TextSize = 9
        LabelInfo.FontFace = Font.new("rbxasset://fonts/families/Ubuntu.json", Enum.FontWeight.Medium, Enum.FontStyle.Normal)
        LabelInfo.TextColor3 = Color3.fromRGB(255, 255, 255)
        LabelInfo.BackgroundTransparency = 1
        LabelInfo.Size = UDim2.new(0, 288, 0, 9)
        LabelInfo.BorderColor3 = Color3.fromRGB(18, 18, 18)
        LabelInfo.Name = "LabelInfo"
        LabelInfo.Text = labelInfo or ""
        LabelInfo.Position = UDim2.new(0, 0, 0.65385, 0)
        LabelInfo.Parent = LabelHolder
    end
    
    table.insert(self.Tabs, Tab)
    return Tab
end

return Library
